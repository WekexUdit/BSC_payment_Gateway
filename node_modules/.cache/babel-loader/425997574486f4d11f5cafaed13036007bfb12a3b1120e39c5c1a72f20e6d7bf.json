{"ast":null,"code":"// PaymentGateway.js\n\"use client\";\n\n// Ensures it's a Client Component\nvar _jsxFileName = \"C:\\\\udit\\\\bsc-payment-gateway\\\\src\\\\components\\\\PaymentGateway.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentGateway = () => {\n  _s();\n  const [token, setToken] = useState(\"USDT\");\n  const [amount, setAmount] = useState(\"\");\n  const recipientAddress = \"0x09A0C44E5f206b3220C70b4b0236fBC5e01f2AA1\";\n  const handlePayment = async () => {\n    if (!window.ethereum) {\n      alert(\"Please install MetaMask!\");\n      return;\n    }\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const tokenAddresses = {\n        USDT: \"0x55d398326f99059ff775485246999027b3197955\",\n        // BSC USDT\n        USDC: \"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d\" // BSC USDC\n      };\n      const contractAddress = tokenAddresses[token];\n      const erc20Abi = [\"function transfer(address recipient, uint256 amount) public returns (bool)\", \"function decimals() view returns (uint8)\"];\n      const contract = new ethers.Contract(contractAddress, erc20Abi, signer);\n      const decimals = await contract.decimals();\n      const amountToSend = ethers.parseUnits(amount, decimals);\n      const tx = await contract.transfer(recipientAddress, amountToSend);\n      await tx.wait();\n      alert(\"Payment successful!\");\n    } catch (error) {\n      console.error(\"Payment failed:\", error);\n      alert(\"Payment failed: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Select Token & Enter Amount\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: token,\n      onChange: e => setToken(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"USDT\",\n        children: \"USDT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"USDC\",\n        children: \"USDC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePayment,\n      children: \"Pay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }, this);\n};\n_s(PaymentGateway, \"kgQpCzSQd8c2IA4fQnALbvILnvs=\");\n_c = PaymentGateway;\nexport default PaymentGateway;\nvar _c;\n$RefreshReg$(_c, \"PaymentGateway\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useState","ethers","jsxDEV","_jsxDEV","PaymentGateway","token","setToken","amount","setAmount","recipientAddress","handlePayment","window","ethereum","alert","provider","BrowserProvider","signer","getSigner","tokenAddresses","USDT","USDC","contractAddress","erc20Abi","contract","Contract","decimals","amountToSend","parseUnits","tx","transfer","wait","error","console","message","children","fileName","lineNumber","columnNumber","value","onChange","e","target","type","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/udit/bsc-payment-gateway/src/components/PaymentGateway.js"],"sourcesContent":["// PaymentGateway.js\r\n\"use client\"; // Ensures it's a Client Component\r\n\r\nimport React, { useState } from \"react\";\r\nimport { ethers } from \"ethers\";\r\n\r\nconst PaymentGateway = () => {\r\n\tconst [token, setToken] = useState(\"USDT\");\r\n\tconst [amount, setAmount] = useState(\"\");\r\n\tconst recipientAddress = \"0x09A0C44E5f206b3220C70b4b0236fBC5e01f2AA1\";\r\n\r\n\tconst handlePayment = async () => {\r\n\t\tif (!window.ethereum) {\r\n\t\t\talert(\"Please install MetaMask!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst provider = new ethers.BrowserProvider(window.ethereum);\r\n\t\t\tconst signer = await provider.getSigner();\r\n\r\n\t\t\tconst tokenAddresses = {\r\n\t\t\t\tUSDT: \"0x55d398326f99059ff775485246999027b3197955\", // BSC USDT\r\n\t\t\t\tUSDC: \"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d\", // BSC USDC\r\n\t\t\t};\r\n\r\n\t\t\tconst contractAddress = tokenAddresses[token];\r\n\t\t\tconst erc20Abi = [\r\n\t\t\t\t\"function transfer(address recipient, uint256 amount) public returns (bool)\",\r\n\t\t\t\t\"function decimals() view returns (uint8)\",\r\n\t\t\t];\r\n\r\n\t\t\tconst contract = new ethers.Contract(contractAddress, erc20Abi, signer);\r\n\t\t\tconst decimals = await contract.decimals();\r\n\t\t\tconst amountToSend = ethers.parseUnits(amount, decimals);\r\n\r\n\t\t\tconst tx = await contract.transfer(recipientAddress, amountToSend);\r\n\t\t\tawait tx.wait();\r\n\r\n\t\t\talert(\"Payment successful!\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(\"Payment failed:\", error);\r\n\t\t\talert(\"Payment failed: \" + error.message);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Select Token & Enter Amount</h2>\r\n\t\t\t<select value={token} onChange={(e) => setToken(e.target.value)}>\r\n\t\t\t\t<option value=\"USDT\">USDT</option>\r\n\t\t\t\t<option value=\"USDC\">USDC</option>\r\n\t\t\t</select>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tplaceholder=\"Enter amount\"\r\n\t\t\t\tvalue={amount}\r\n\t\t\t\tonChange={(e) => setAmount(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<button onClick={handlePayment}>Pay</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PaymentGateway;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}